<!DOCTYPE html>
<html>
<body>

<h1>Encode a query for GraphiQL integration</h1>
<h2>Paste the query in the textarea</h2>

<textarea id="query" style="width:100%;" rows="45" value="Type your query here"></textarea>
<br/><br/>
<button onclick="docParam()">Encode for GraphiQL doc param</button>
<br/>
<p id="doc"></p>
<br/>
<button onclick="rawParam()">Encode for GraphiQL raw param</button>
<br/>
<p id="raw"></p>


<script>

    function docParam() {
      // New lines are skipped in the documentation, unless we escape them
      // Comments escaped too
      let encoded = "https://dev.livingassets.io/" + encodeURI(document.getElementById("query").value).replaceAll("%0A", "%E7%E7").replaceAll("#", "%23");
      document.getElementById("doc").innerHTML = encoded;
    }

    function rawParam() {
      // Comments need to be properly escaped in advance
      let encoded =  encodeURI(document.getElementById("query").value).replaceAll("#", "%23").replaceAll("&", "%26");
      document.getElementById("raw").innerHTML = encoded;
    }

</script>

</body>
</html>
